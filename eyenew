<VirtualHost *:80>
    DocumentRoot "C:/projects/cdets_trunk/eye/public"
    ServerName eyenew
    ErrorLog "logs/eyenew-error.log"
    CustomLog "logs/eyenew-access.log" common
    <Directory "C:/projects/cdets_trunk/eye/public">
        AllowOverride All
        Require all granted
        Options FollowSymlinks

        RewriteEngine On
	# The following rule tells Apache that if the requested filename
	# exists, simply serve it.
	RewriteCond %{REQUEST_FILENAME} -s [OR]
	RewriteCond %{REQUEST_FILENAME} -l [OR]
	RewriteCond %{REQUEST_FILENAME} -d
	RewriteRule ^.*$ - [NC,L]
	# The following rewrites all other queries to index.php. The
	# condition ensures that if you are using Apache aliases to do
	# mass virtual hosting, the base path will be prepended to
	# allow proper resolution of the index.php file; it will work
	# in non-aliased environments as well, providing a safe, one-size
	# fits all solution.
	RewriteCond %{REQUEST_URI}::$1 ^(/.+)(.+)::\2$
	RewriteRule ^(.*) - [E=BASE:%1]
	RewriteRule ^(.*)$ %{ENV:BASE}index.php [NC,L]
    </Directory>
</VirtualHost>
